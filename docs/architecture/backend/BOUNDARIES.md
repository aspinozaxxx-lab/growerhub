# Backend: границы и зависимости (целевая)

Примечание: документ конкретизирует RULES для backend; при вопросах импортов он приоритетнее.

Матрица зависимостей (строка → может импортировать столбец):

- api-адаптер → *.facade, *.contract, ru.growerhub.backend.common.*, framework.
- mqtt-адаптер → *.facade, *.contract, ru.growerhub.backend.common.*, framework.
- домен → facade/contract/engine/jpa своего домена, ru.growerhub.backend.common.*; другие домены только через их facade и contract.
- ru.growerhub.backend.common.* → стандартные библиотеки и утилиты (без JPA и бизнес-логики).

Запреты:

- Внешним модулям запрещён импорт *.engine.. и *.jpa.. чужого домена; доступ возможен только к *.facade.. и *.contract...
- Адаптеры не импортируют JPA (@Entity, Repository) и не обращаются к *.jpa...
- Домены не обращаются к engine/jpa других доменов.
- Бизнес-логика не размещается в адаптерах; исключения допускаются только если явно зафиксированы в архитектурных документах (на данный момент действует ADR-001).
